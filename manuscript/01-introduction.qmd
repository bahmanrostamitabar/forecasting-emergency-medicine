# Introduction {#sec-intro}

Inability to match the resources with the demand in Emergency Medical Services (EMS) results in an overcrowding care system. This is a serious problem causing challenging situations on patient flow with serious consequences on patients, staff and the entire care system [@ekstrom2015forecasting; @ROSTAMITABAR20221197]. Demand forecasting in EMS is a vital element that helps to depict various courses of action to avoid the mismatch, which can result in massive savings in terms of patient safety and lives. An accurate daily demand forecasting enables planners and decision makers to manage resources to meet anticipated patients, reconfigure units, redeploy staff and vehicles, where necessary. 

Demand forecasts at EMS are typically required at multiple levels of cross-sectional granularities to inform various planning and decision-making processes [@hulshof2012taxonomic]. There are some planning process at the national level (more strategic or long-term) such as workforce resource planning and budgeting; sub-national, regional or healthcare level (tactical or medium-term) such as temporary capacity expansions, resource sharing and staff-shift scheduling; and hospital or station level (operational or short-term) such as planning rosters for staff and ambulance deployment. Demand forecasts might also be required at different level for a specific group of interest such as nature of demand or priority. Moreover, the time series data in EMS has an inherent hierarchical and grouped structure to support such forecasting requirements. Demand for emergency medical services at the country level can be disaggregated in a geographical hierarchy into sub-national, regions, health boards, stations/hospitals or divided into groups such as nature of incidents or demand priority. Therefore, using forecasting methodologies that account for hierarchical and/or grouped structures of time series in EMS seems to be a natural fit. 

However, despite a large number of studies dedicated to forecasting for EMS [@mingliterature2022; @gul2020exhaustive; @ibrahim2016modeling; @wargon2009systematic], this area is neglected and the main focus has been on producing forecasts at a single level, independently. Generating independent forecasts not only ignore the inherent hierarchical and/or grouped structure relationships of the time series demand but also results in a lack of consistency and coordination. Consistent forecasts of the EMS demand across all hierarchical and grouped levels are paramount for an effective planning and decision making. The hierarchical forecasting approaches can not only create consistent forecasts but also achieve more accurate forecasts than the independent (base) forecasts [@hyndman2011optimal]. Obtaining consistent forecasts at different levels is important as it helps to avoid making conflicting decisions. With hierarchical forecasting, plans at any level are based on coherent forecasts and therefore can be aligned. Implementing and sustaining improvements in EMS require alignments and coordination between different stakeholders, without which teams operate in isolation leading to conflicts, duplication work, rework, or work that runs counter to the overall goal to improve the quality of delivery service. Hierarchical forecasting framework can be used as a tool to improve coordination between teams across the care services at the national, sub-national, regional and local levels. To our knowledge, there is not only no research in the EMS forecasting to account for the hierarchical and grouped structure of the system but also in the entire field of forecasting for healthcare management.

In this paper, we address this gap by investigating the application of  hierarchical forecasting approaches in the EMS using daily time series of verified incidents from 2015 to 2020 in a major ambulance service in Great Britain. The data has hierarchical and grouped structures with hierarchies at the national, control (i.e. sub-national), health board (i.e. regional) and groups by priority and nature of incidents. We produce not only the point forecast but also the forecast distribution across all levels, which is critical for an effective planning and associated risk management. We compare the point and probabilistic forecast accuracy of the independent forecasts, bottom-up and optimal reconciliation approaches. We first generate independent/based forecasts using Exponential Smoothing State Space (ETS),  Generalized Linear Model (GLM), Poisson regression, a simple empirical distribution and an ensemble method followed by applying bottom-up and optimal reconciliation approaches. Forecast performance is assessed by the Root Mean Squared Scaled Error (RMSSE) for point forecasts and the Continuous Ranked Probability Score (CRPS) for the probabilistic forecasts.
This paper complies with the principles of the reproducibility  [@stodden2013best; @boylan2015reproducibility]. Therefore, the study could equally be applied to any healthcare service (e.g. emergency department, primary or social care) subject to the time series having a hierarchical and/or grouped structure, which is generally the case in the healthcare sector.

The remainder of this article is structured as follows: In section 2, we provide a brief review of the literature and discuss its limitation to position our work; in section 3, we present the experiment design describing the data set, forecasting methods and forecast evaluation metrics. In Section 4, we discuss the hierarchical time series forecasting approaches to generate both point and probabilistic forecasts. In section 5, we present and discuss our results; in section 7, we summarize our findings and present ideas for future research.
